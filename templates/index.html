<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä —Å–∞–π—Ç–æ–≤ –Ω–∞ GPT-4</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <link rel="icon" href="{{ url_for('static', filename='extension_icon.png') }}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
</head>
<body>
<!-- –ö–æ–º–ø–∞–∫—Ç–Ω–∞—è –ø—Ä–µ–º–∏–∞–ª—å–Ω–∞—è —à–∞–ø–∫–∞ -->
<header class="header-glass-premium fixed-top animate__animated animate__fadeInDown">
  <div class="container-fluid d-flex align-items-center justify-content-between py-2 px-3 flex-wrap">
    <div class="d-flex align-items-center gap-3">
      <div class="header-logo-premium d-flex align-items-center justify-content-center me-2 animate__animated animate__fadeInLeft animate__delay-1s">
        <i class="fa-solid fa-robot fa-lg text-primary"></i>
      </div>
      <div class="d-flex flex-column animate__animated animate__fadeInLeft animate__delay-2s">
        <span class="fw-bold text-gradient-premium mb-0">GPT-4 –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä</span>
        <span class="text-secondary small lh-1 d-flex align-items-center gap-1"><i class="fa-solid fa-bolt text-warning"></i> GPT-4, –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–∞–π—Ç–æ–≤ –∑–∞ 10 —Å–µ–∫—É–Ω–¥, –±–µ—Å–ø–ª–∞—Ç–Ω–æ</span>
      </div>
    </div>
    <nav class="header-menu d-none d-md-flex gap-3 ms-3 animate__animated animate__fadeIn animate__delay-3s">
      <a href="/about" class="header-link">–û —Å–µ—Ä–≤–∏—Å–µ</a>
      <a href="/features" class="header-link">–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞</a>
      <a href="/contacts" class="header-link">–ö–æ–Ω—Ç–∞–∫—Ç—ã</a>
    </nav>
    <div class="d-flex align-items-center gap-2 ms-auto animate__animated animate__fadeInRight animate__delay-2s" style="padding-right: 10px;">
      {% if current_user.is_authenticated %}
        <span class="me-2 d-none d-md-inline text-dark-emphasis">üëã {{ current_user.email }}</span>
        <a href="/logout" class="btn btn-outline-danger btn-sm px-3 premium-btn-shadow"><i class="fa-solid fa-right-from-bracket me-1"></i>–í—ã–π—Ç–∏</a>
      {% else %}
        <button class="btn btn-premium-outline btn-sm px-3 premium-btn-shadow" data-bs-toggle="modal" data-bs-target="#loginModal"><i class="fa-solid fa-right-to-bracket me-1"></i>–í–æ–π—Ç–∏</button>
        <button class="btn btn-premium-gradient btn-sm px-3 premium-btn-shadow" data-bs-toggle="modal" data-bs-target="#registerModal"><i class="fa-solid fa-user-plus me-1"></i>–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</button>
      {% endif %}
    </div>
  </div>
</header>
<div style="height: 62px;"></div>
<!-- /—à–∞–ø–∫–∞ -->
<div class="background-svg">
    <svg class="svg-left" viewBox="0 0 300 900" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M0,0 Q150,200 0,400 Q150,600 0,900 L0,0 Z" fill="#e0f2fe"/>
    </svg>
    <svg class="svg-right" viewBox="0 0 300 900" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M300,0 Q150,200 300,400 Q150,600 300,900 L300,0 Z" fill="#f0fdf4"/>
    </svg>
</div>
<div class="main-layout d-flex flex-row justify-content-center align-items-start">
    <!-- –õ–µ–≤–∞—è –ø–∞–Ω–µ–ª—å -->
    <aside class="sidebar-left d-none d-lg-flex flex-column align-items-end pe-3">
        <div class="sidebar-block mb-4 animate__animated animate__fadeInLeft">
            <h6 class="fw-bold mb-2"><i class="fa-solid fa-lightbulb me-1 text-warning"></i>–°–æ–≤–µ—Ç—ã</h6>
            <ul class="tips-list small">
                <li>–û–ø–∏—à–∏—Ç–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Å–∞–π—Ç–∞: —Å–µ–∫—Ü–∏–∏, –±–ª–æ–∫–∏, —Ñ—É—Ç–µ—Ä, –º–µ–Ω—é.</li>
                <li>–£–∫–∞–∂–∏—Ç–µ –∂–µ–ª–∞–µ–º—ã–µ —Ü–≤–µ—Ç–∞, —Å—Ç–∏–ª—å, —à—Ä–∏—Ñ—Ç—ã.</li>
                <li>–î–æ–±–∞–≤—å—Ç–µ –ø–æ–∂–µ–ª–∞–Ω–∏—è –ø–æ –∫–Ω–æ–ø–∫–∞–º, —Ñ–æ—Ä–º–∞–º, –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º.</li>
                <li>–ß–µ–º –ø–æ–¥—Ä–æ–±–Ω–µ–µ –æ–ø–∏—Å–∞–Ω–∏–µ ‚Äî —Ç–µ–º –ª—É—á—à–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç!</li>
            </ul>
        </div>
        <div class="sidebar-block animate__animated animate__fadeInLeft animate__delay-1s">
            <h6 class="fw-bold mb-2"><i class="fa-solid fa-wand-magic-sparkles me-1 text-primary"></i>–ü—Ä–∏–º–µ—Ä—ã –ø—Ä–æ–º–ø—Ç–æ–≤</h6>
            <div class="row g-2">
                <div class="col-12">
                    <div class="prompt-card" onclick="insertPrompt('–°–∞–π—Ç –¥–ª—è –∫–æ—Ñ–µ–π–Ω–∏ —Å 3 —Å–µ–∫—Ü–∏—è–º–∏: –æ –Ω–∞—Å, –º–µ–Ω—é, –∫–æ–Ω—Ç–∞–∫—Ç—ã. –ö–Ω–æ–ø–∫–∞ –∑–∞–∫–∞–∑–∞—Ç—å —Å—Ç–æ–ª–∏–∫.')">
                        <i class="fa-solid fa-mug-hot me-2"></i>–ö–æ—Ñ–µ–π–Ω—è, 3 —Å–µ–∫—Ü–∏–∏, –∫–Ω–æ–ø–∫–∞
                    </div>
                </div>
                <div class="col-12">
                    <div class="prompt-card" onclick="insertPrompt('–õ–µ–Ω–¥–∏–Ω–≥ –¥–ª—è IT-–∫–æ–º–ø–∞–Ω–∏–∏: –±–ª–æ–∫–∏ –æ –∫–æ–º–ø–∞–Ω–∏–∏, —É—Å–ª—É–≥–∏, –æ—Ç–∑—ã–≤—ã, —Ñ—É—Ç–µ—Ä —Å –∫–æ–Ω—Ç–∞–∫—Ç–∞–º–∏. –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π —Å—Ç–∏–ª—å.')">
                        <i class="fa-solid fa-laptop-code me-2"></i>IT-–∫–æ–º–ø–∞–Ω–∏—è, –æ—Ç–∑—ã–≤—ã, —Ñ—É—Ç–µ—Ä
                    </div>
                </div>
                <div class="col-12">
                    <div class="prompt-card" onclick="insertPrompt('–ü–æ—Ä—Ç—Ñ–æ–ª–∏–æ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∞: –≥–∞–ª–µ—Ä–µ—è, –æ —Å–µ–±–µ, –∫–æ–Ω—Ç–∞–∫—Ç—ã, –º–∏–Ω–∏–º–∞–ª–∏–∑–º, —Å–≤–µ—Ç–ª–∞—è –≥–∞–º–º–∞.')">
                        <i class="fa-solid fa-camera-retro me-2"></i>–ü–æ—Ä—Ç—Ñ–æ–ª–∏–æ, –≥–∞–ª–µ—Ä–µ—è, –º–∏–Ω–∏–º–∞–ª–∏–∑–º
                    </div>
                </div>
            </div>
        </div>
    </aside>
    <!-- –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π –±–ª–æ–∫ -->
    <main class="main-content flex-grow-1">
        <header class="mb-4 text-center">
            <div class="mb-2">
                <i class="fa-solid fa-robot fa-2x text-primary"></i>
            </div>
            <h1 class="mb-1">–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä —Å–∞–π—Ç–æ–≤ –Ω–∞ GPT-4</h1>
            <p class="lead text-secondary">–°–æ–∑–¥–∞–π—Ç–µ –∞–¥–∞–ø—Ç–∏–≤–Ω—ã–π —Å–∞–π—Ç –ø–æ –æ–ø–∏—Å–∞–Ω–∏—é –∑–∞ —Å–µ–∫—É–Ω–¥—ã. –ü—Ä–æ—Å—Ç–æ –æ–ø–∏—à–∏—Ç–µ, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ ‚Äî –∏ –ø–æ–ª—É—á–∏—Ç–µ –≥–æ—Ç–æ–≤—ã–π HTML-–∫–æ–¥!</p>
        </header>
        <section class="mb-4 p-3 bg-light rounded-4 shadow-sm animate__animated animate__fadeIn">
            <form id="genForm" autocomplete="off">
                <div class="mb-3">
                    <label for="description" class="form-label">
                        <i class="fa-regular fa-pen-to-square me-1"></i>–û–ø–∏—Å–∞–Ω–∏–µ —Å–∞–π—Ç–∞
                    </label>
                    <textarea class="form-control" id="description" rows="4" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –°–∞–π—Ç –¥–ª—è –∫–æ—Ñ–µ–π–Ω–∏ —Å 3 –±–ª–æ–∫–∞–º–∏ –∏ –∫–Ω–æ–ø–∫–æ–π –∑–∞–∫–∞–∑–∞—Ç—å" required></textarea>
                    <div class="form-text">–û–ø–∏—à–∏—Ç–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—É, —Å—Ç–∏–ª—å, –∂–µ–ª–∞–µ–º—ã–µ –±–ª–æ–∫–∏ –∏ —ç–ª–µ–º–µ–Ω—Ç—ã. –ß–µ–º –ø–æ–¥—Ä–æ–±–Ω–µ–µ ‚Äî —Ç–µ–º –ª—É—á—à–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç.</div>
                </div>
                <div class="mb-3">
                    <label for="style" class="form-label">
                        <i class="fa-solid fa-palette me-1"></i>–°—Ç–∏–ª—å —Å–∞–π—Ç–∞
                    </label>
                    <select class="form-select" id="style">
                        <option value="–º–∏–Ω–∏–º–∞–ª–∏–∑–º">–ú–∏–Ω–∏–º–∞–ª–∏–∑–º</option>
                        <option value="–±–∏–∑–Ω–µ—Å">–ë–∏–∑–Ω–µ—Å</option>
                        <option value="—Ü–≤–µ—Ç–Ω–æ–π">–¶–≤–µ—Ç–Ω–æ–π</option>
                        <option value="—Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π">–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π</option>
                    </select>
                    <div class="form-text">–í—ã–±–µ—Ä–∏—Ç–µ –≤–∏–∑—É–∞–ª—å–Ω—ã–π —Å—Ç–∏–ª—å –¥–ª—è –±—É–¥—É—â–µ–≥–æ —Å–∞–π—Ç–∞.</div>
                </div>
                <div class="d-flex flex-wrap gap-2 align-items-center mb-2">
                    <button id="generateBtn" class="btn btn-primary d-flex align-items-center" type="button">
                        <i class="fa-solid fa-wand-magic-sparkles me-2"></i>–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å
                    </button>
                    <button id="downloadBtn" class="btn btn-success d-flex align-items-center" type="button" disabled>
                        <i class="fa-solid fa-download me-2"></i>–°–∫–∞—á–∞—Ç—å HTML
                    </button>
                </div>
            </form>
            <div class="small text-muted mt-1"><i class="fa-solid fa-circle-info me-1"></i>–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∑–∞–Ω–∏–º–∞–µ—Ç 5-15 —Å–µ–∫—É–Ω–¥. HTML-—Ñ–∞–π–ª –º–æ–∂–Ω–æ —Å–∫–∞—á–∞—Ç—å –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏.</div>
        </section>
        <section class="mt-4 animate__animated animate__fadeInUp">
            <h5 class="mb-2"><i class="fa-solid fa-eye me-1"></i>–ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä —Å–∞–π—Ç–∞</h5>
            <iframe id="previewFrame" style="width:100%; min-height:400px; border:1px solid #ccc;"></iframe>
            <div id="errorMsg" class="alert alert-danger mt-3 d-none"></div>
        </section>
        <footer class="text-center mt-4 mb-2 text-secondary small">
            <hr>
            <div>¬© 2024 –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä —Å–∞–π—Ç–æ–≤ –Ω–∞ GPT-4 | <i class="fa-brands fa-github"></i> <a href="https://platform.openai.com/" target="_blank" class="text-decoration-none">OpenAI API</a></div>
        </footer>
    </main>
    <!-- –ü—Ä–∞–≤–∞—è –ø–∞–Ω–µ–ª—å -->
    <aside class="sidebar-right d-none d-xl-flex flex-column align-items-start ps-3">
        <div class="sidebar-block mb-4 animate__animated animate__fadeInRight">
            <h6 class="fw-bold mb-2"><i class="fa-solid fa-circle-info me-1 text-info"></i>–û —Å–µ—Ä–≤–∏—Å–µ</h6>
            <div class="small">–≠—Ç–æ—Ç —Å–µ—Ä–≤–∏—Å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç <b>OpenAI GPT-4</b> –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∞–¥–∞–ø—Ç–∏–≤–Ω—ã—Ö HTML-—Å–∞–π—Ç–æ–≤ –ø–æ –≤–∞—à–µ–º—É –æ–ø–∏—Å–∞–Ω–∏—é. –í—Å—ë –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∑–∞ —Å–µ–∫—É–Ω–¥—ã, –±–µ–∑ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –∏ –ª–∏—à–Ω–∏—Ö –¥–µ–π—Å—Ç–≤–∏–π.</div>
        </div>
        <div class="sidebar-block animate__animated animate__fadeInRight animate__delay-1s">
            <h6 class="fw-bold mb-2"><i class="fa-solid fa-star me-1 text-success"></i>–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞</h6>
            <ul class="small mb-0">
                <li>–ú–≥–Ω–æ–≤–µ–Ω–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–∞–π—Ç–∞</li>
                <li>–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π UI/UX</li>
                <li>–ì–æ—Ç–æ–≤—ã–π HTML –¥–ª—è —Å–∫–∞—á–∏–≤–∞–Ω–∏—è</li>
                <li>–ë–µ–∑ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –∏ —Ä–µ–∫–ª–∞–º—ã</li>
            </ul>
        </div>
    </aside>
</div>
<!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –æ–ø–ª–∞—Ç—ã -->
<div class="modal fade" id="payModal" tabindex="-1" aria-labelledby="payModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content pay-modal-content">
      <div class="modal-header border-0 pb-0" style="background: linear-gradient(90deg, #3b82f6 30%, #06b6d4 100%); border-top-left-radius: 1.2rem; border-top-right-radius: 1.2rem;">
        <div class="w-100 text-center">
          <i class="fa-solid fa-credit-card fa-3x text-white mb-2"></i>
          <h5 class="modal-title text-white fw-bold" id="payModalLabel">–î–æ—Å—Ç—É–ø –∫ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å–∞–π—Ç–∞</h5>
        </div>
        <button type="button" class="btn-close btn-close-white position-absolute end-0 top-0 m-3" data-bs-dismiss="modal" aria-label="–ó–∞–∫—Ä—ã—Ç—å"></button>
      </div>
      <div class="modal-body text-center py-4">
        <div class="mb-3">
          <div class="pay-badge mb-2"><i class="fa-solid fa-lock"></i> –ü—Ä–µ–º–∏—É–º-–¥–æ—Å—Ç—É–ø</div>
          <div class="mb-2 text-secondary">–ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–∞–π—Ç–∞ –¥–æ—Å—Ç—É–ø–Ω–∞ —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ –æ–ø–ª–∞—Ç—ã.<br>–í—ã–±–µ—Ä–∏—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≥–µ–Ω–µ—Ä–∞—Ü–∏–π:</div>
          <div class="d-flex justify-content-center gap-2 mb-3">
            <button type="button" class="btn btn-outline-primary pay-count-btn" data-count="1">1</button>
            <button type="button" class="btn btn-outline-primary pay-count-btn" data-count="3">3</button>
            <button type="button" class="btn btn-outline-primary pay-count-btn" data-count="5">5</button>
          </div>
          <div class="mb-3">
            <span class="fs-5">–ò—Ç–æ–≥–æ: </span>
            <span class="fs-4 fw-bold" id="payTotal">199</span>
            <span class="fs-6">‚ÇΩ</span>
            <span class="text-muted small ms-2" id="payPer">(1 √ó 199‚ÇΩ)</span>
          </div>
          <button id="payBtn" class="btn btn-success btn-lg px-5 py-2 pay-btn-animate"><i class="fa-solid fa-money-bill-wave me-2"></i>–û–ø–ª–∞—Ç–∏—Ç—å</button>
        </div>
        <div class="text-start mt-4 pay-benefits">
          <div class="fw-bold mb-2"><i class="fa-solid fa-star text-warning me-1"></i>–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:</div>
          <ul class="mb-0 ps-3 small text-secondary">
            <li>–ú–≥–Ω–æ–≤–µ–Ω–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–∞–π—Ç–∞ –ø–æ –≤–∞—à–µ–º—É –æ–ø–∏—Å–∞–Ω–∏—é</li>
            <li>–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π UI/UX –∏ –∞–¥–∞–ø—Ç–∏–≤–Ω–∞—è –≤—ë—Ä—Å—Ç–∫–∞</li>
            <li>–ì–æ—Ç–æ–≤—ã–π HTML-—Ñ–∞–π–ª –¥–ª—è —Å–∫–∞—á–∏–≤–∞–Ω–∏—è</li>
            <li>–ë–µ–∑ —Ä–µ–∫–ª–∞–º—ã –∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏</li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</div>
<!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –≤—Ö–æ–¥–∞ (–ø—Ä–µ–º–∏—É–º, —É–ª—É—á—à–µ–Ω–æ) -->
<div class="modal fade" id="loginModal" tabindex="-1" aria-labelledby="loginModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content glass-modal animate__animated animate__fadeInDown">
      <div class="modal-header border-0 flex-column align-items-center bg-gradient-premium position-relative" style="padding-bottom: 0;">
        <div class="modal-avatar mb-2 d-flex align-items-center justify-content-center">
          <svg width="56" height="56" viewBox="0 0 56 56" fill="none" xmlns="http://www.w3.org/2000/svg">
            <circle cx="28" cy="28" r="28" fill="#e0f2fe"/>
            <path d="M28 32c-4.418 0-8 2.239-8 5v1h16v-1c0-2.761-3.582-5-8-5z" fill="#38bdf8"/>
            <circle cx="28" cy="22" r="6" fill="#38bdf8"/>
          </svg>
        </div>
        <h5 class="modal-title w-100 text-center text-dark fw-bold mb-0 mt-1" id="loginModalLabel">
          –í—Ö–æ–¥ –≤ –∞–∫–∫–∞—É–Ω—Ç
        </h5>
        <div class="w-100 text-center text-secondary small mb-2 mt-1">–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å! –í–≤–µ–¥–∏—Ç–µ —Å–≤–æ–∏ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –≤—Ö–æ–¥–∞</div>
        <button type="button" class="btn-close position-absolute end-0 top-0 m-3" data-bs-dismiss="modal" aria-label="–ó–∞–∫—Ä—ã—Ç—å"></button>
      </div>
      <div class="modal-body p-4 pt-3">
        <form method="POST" action="/login" autocomplete="off" novalidate>
          {% with messages = get_flashed_messages() %}
            {% if messages %}
              <div class="alert alert-danger py-2 animate__animated animate__shakeX">
                {% for message in messages %}{{ message }}<br>{% endfor %}
              </div>
            {% endif %}
          {% endwith %}
          <div class="mb-3 position-relative animate__animated animate__fadeInUp animate__delay-1s">
            <label for="loginEmail" class="form-label fw-semibold">Email</label>
            <div class="input-group input-group-lg">
              <span class="input-group-text"><i class="fa-solid fa-envelope text-primary"></i></span>
              <input type="email" class="form-control glass-input" id="loginEmail" name="email" placeholder="–í–≤–µ–¥–∏—Ç–µ email" required autofocus>
            </div>
          </div>
          <div class="mb-3 position-relative animate__animated animate__fadeInUp animate__delay-2s">
            <label for="loginPassword" class="form-label fw-semibold">–ü–∞—Ä–æ–ª—å</label>
            <div class="input-group input-group-lg">
              <span class="input-group-text"><i class="fa-solid fa-lock text-primary"></i></span>
              <input type="password" class="form-control glass-input" id="loginPassword" name="password" placeholder="–í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å" required>
              <span class="input-group-text password-toggle" onclick="togglePassword('loginPassword', this)"><i class="fa-regular fa-eye"></i></span>
            </div>
          </div>
          <button type="submit" class="btn btn-premium w-100 py-2 mt-2 shadow-sm fw-bold animate__animated animate__fadeInUp animate__delay-3s">–í–æ–π—Ç–∏</button>
        </form>
      </div>
      <div class="modal-footer border-0 justify-content-center bg-light rounded-bottom-4 mt-0 pt-2">
        <span class="small">–ù–µ—Ç –∞–∫–∫–∞—É–Ω—Ç–∞? <a href="#" data-bs-dismiss="modal" data-bs-toggle="modal" data-bs-target="#registerModal">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è</a></span>
      </div>
    </div>
  </div>
</div>
<!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ (–ø—Ä–µ–º–∏—É–º, —É–ª—É—á—à–µ–Ω–æ) -->
<div class="modal fade" id="registerModal" tabindex="-1" aria-labelledby="registerModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content glass-modal animate__animated animate__fadeInDown">
      <div class="modal-header border-0 flex-column align-items-center bg-gradient-premium position-relative" style="padding-bottom: 0;">
        <div class="modal-avatar mb-2 d-flex align-items-center justify-content-center">
          <svg width="56" height="56" viewBox="0 0 56 56" fill="none" xmlns="http://www.w3.org/2000/svg">
            <circle cx="28" cy="28" r="28" fill="#f0fdf4"/>
            <path d="M28 32c-4.418 0-8 2.239-8 5v1h16v-1c0-2.761-3.582-5-8-5z" fill="#34d399"/>
            <circle cx="28" cy="22" r="6" fill="#34d399"/>
          </svg>
        </div>
        <h5 class="modal-title w-100 text-center text-dark fw-bold mb-0 mt-1" id="registerModalLabel">
          –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
        </h5>
        <div class="w-100 text-center text-secondary small mb-2 mt-1">–°–æ–∑–¥–∞–π—Ç–µ –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π –∞–∫–∫–∞—É–Ω—Ç –∑–∞ 10 —Å–µ–∫—É–Ω–¥</div>
        <button type="button" class="btn-close position-absolute end-0 top-0 m-3" data-bs-dismiss="modal" aria-label="–ó–∞–∫—Ä—ã—Ç—å"></button>
      </div>
      <div class="modal-body p-4 pt-3">
        <form method="POST" action="/register" autocomplete="off" novalidate>
          {% with messages = get_flashed_messages() %}
            {% if messages %}
              <div class="alert alert-danger py-2 animate__animated animate__shakeX">
                {% for message in messages %}{{ message }}<br>{% endfor %}
              </div>
            {% endif %}
          {% endwith %}
          <div class="mb-3 position-relative animate__animated animate__fadeInUp animate__delay-1s">
            <label for="registerEmail" class="form-label fw-semibold">Email</label>
            <div class="input-group input-group-lg">
              <span class="input-group-text"><i class="fa-solid fa-envelope text-success"></i></span>
              <input type="email" class="form-control glass-input" id="registerEmail" name="email" placeholder="–í–≤–µ–¥–∏—Ç–µ email" required>
            </div>
          </div>
          <div class="mb-3 position-relative animate__animated animate__fadeInUp animate__delay-2s">
            <label for="registerPassword" class="form-label fw-semibold">–ü–∞—Ä–æ–ª—å</label>
            <div class="input-group input-group-lg">
              <span class="input-group-text"><i class="fa-solid fa-lock text-success"></i></span>
              <input type="password" class="form-control glass-input" id="registerPassword" name="password" placeholder="–ü—Ä–∏–¥—É–º–∞–π—Ç–µ –ø–∞—Ä–æ–ª—å" required>
              <span class="input-group-text password-toggle" onclick="togglePassword('registerPassword', this)"><i class="fa-regular fa-eye"></i></span>
            </div>
            <div class="form-text">–ú–∏–Ω–∏–º—É–º 6 —Å–∏–º–≤–æ–ª–æ–≤, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –±—É–∫–≤—ã –∏ —Ü–∏—Ñ—Ä—ã</div>
          </div>
          <button type="submit" class="btn btn-premium-green w-100 py-2 mt-2 shadow-sm fw-bold animate__animated animate__fadeInUp animate__delay-3s">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è</button>
        </form>
      </div>
      <div class="modal-footer border-0 justify-content-center bg-light rounded-bottom-4 mt-0 pt-2">
        <span class="small">–£–∂–µ –µ—Å—Ç—å –∞–∫–∫–∞—É–Ω—Ç? <a href="#" data-bs-dismiss="modal" data-bs-toggle="modal" data-bs-target="#loginModal">–í–æ–π—Ç–∏</a></span>
      </div>
    </div>
  </div>
</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script>
let isPaid = false;
let payCount = 1;
const generateBtn = document.getElementById('generateBtn');
const downloadBtn = document.getElementById('downloadBtn');
const previewFrame = document.getElementById('previewFrame');
const errorMsg = document.getElementById('errorMsg');

window.onload = () => {
    document.getElementById('description').focus();
};

generateBtn.onclick = async () => {
    if (!isPaid) {
        const payModal = new bootstrap.Modal(document.getElementById('payModal'));
        payModal.show();
        return;
    }
    errorMsg.classList.add('d-none');
    generateBtn.disabled = true;
    downloadBtn.disabled = true;
    generateBtn.innerHTML = '<span class="spinner-border spinner-border-sm me-2"></span>–ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è...';
    const description = document.getElementById('description').value;
    const style = document.getElementById('style').value;
    try {
        const resp = await fetch('/generate', {
            method: 'POST',
            headers: {'Content-Type': 'application/json'},
            body: JSON.stringify({description, style})
        });
        const data = await resp.json();
        if (data.success) {
            previewFrame.src = '/preview?' + Date.now();
            downloadBtn.disabled = false;
        } else {
            errorMsg.textContent = data.error || '–û—à–∏–±–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏';
            errorMsg.classList.remove('d-none');
        }
    } catch (e) {
        errorMsg.textContent = '–û—à–∏–±–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è';
        errorMsg.classList.remove('d-none');
    }
    generateBtn.disabled = false;
    generateBtn.innerHTML = '<i class="fa-solid fa-wand-magic-sparkles me-2"></i>–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å';
};

downloadBtn.onclick = () => {
    window.location = '/download';
};

// –û–ø–ª–∞—Ç–∞
const payBtns = document.querySelectorAll('.pay-count-btn');
const payTotal = document.getElementById('payTotal');
const payPer = document.getElementById('payPer');
const payBtn = document.getElementById('payBtn');
const PRICE = 199;

payBtns.forEach(btn => {
    btn.onclick = function() {
        payBtns.forEach(b => b.classList.remove('active'));
        this.classList.add('active');
        payCount = parseInt(this.getAttribute('data-count'));
        payTotal.textContent = payCount * PRICE;
        payPer.textContent = `(${payCount} √ó ${PRICE}‚ÇΩ)`;
    };
});
// –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –∞–∫—Ç–∏–≤–Ω–∞ 1 –≥–µ–Ω–µ—Ä–∞—Ü–∏—è
payBtns[0].classList.add('active');

payBtn.onclick = function() {
    isPaid = true;
    const payModal = bootstrap.Modal.getInstance(document.getElementById('payModal'));
    payModal.hide();
    setTimeout(() => {
        generateBtn.click();
    }, 400);
};

function insertPrompt(text) {
    document.getElementById('description').value = text;
    document.getElementById('description').focus();
}

function togglePassword(inputId, el) {
  const input = document.getElementById(inputId);
  const icon = el.querySelector('i');
  if (input.type === 'password') {
    input.type = 'text';
    icon.classList.remove('fa-eye');
    icon.classList.add('fa-eye-slash');
  } else {
    input.type = 'password';
    icon.classList.remove('fa-eye-slash');
    icon.classList.add('fa-eye');
  }
}

// –ê–Ω–∏–º–∞—Ü–∏—è –ø–æ—è–≤–ª–µ–Ω–∏—è –∏ –∏—Å—á–µ–∑–Ω–æ–≤–µ–Ω–∏—è –º–æ–¥–∞–ª—å–Ω—ã—Ö –æ–∫–æ–Ω —Å –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–º –∑–∞–∫—Ä—ã—Ç–∏–µ–º
function setupAnimatedModal(modalId) {
  const modal = document.getElementById(modalId);
  if (!modal) return;
  const dialog = modal.querySelector('.modal-dialog');
  let closing = false;

  // –ü–æ—è–≤–ª–µ–Ω–∏–µ
  modal.addEventListener('show.bs.modal', function () {
    dialog.classList.remove('animate__fadeOutUp');
    dialog.classList.add('animate__animated', 'animate__fadeInDown');
    closing = false;
  });

  // –ö–∞—Å—Ç–æ–º–Ω–æ–µ –∑–∞–∫—Ä—ã—Ç–∏–µ —Å –∞–Ω–∏–º–∞—Ü–∏–µ–π
  function closeWithAnimation() {
    if (closing) return;
    closing = true;
    dialog.classList.remove('animate__fadeInDown');
    dialog.classList.add('animate__fadeOutUp');
    setTimeout(() => {
      const modalInstance = bootstrap.Modal.getInstance(modal);
      if (modalInstance) modalInstance.hide();
    }, 500);
  }

  // –ö–ª–∏–∫ –ø–æ –∫—Ä–µ—Å—Ç–∏–∫—É
  const closeBtn = modal.querySelector('.btn-close');
  if (closeBtn) {
    closeBtn.addEventListener('click', function (e) {
      e.preventDefault();
      closeWithAnimation();
    });
  }

  // –ö–ª–∏–∫ –ø–æ —Ñ–æ–Ω—É (backdrop)
  modal.addEventListener('mousedown', function (e) {
    if (e.target === modal) {
      closeWithAnimation();
    }
  });

  // –û–±—ã—á–Ω–æ–µ –∑–∞–∫—Ä—ã—Ç–∏–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø–æ esc)
  modal.addEventListener('hide.bs.modal', function (e) {
    if (!closing) {
      e.preventDefault();
      closeWithAnimation();
    }
  });

  // –ü–æ—Å–ª–µ –∑–∞–∫—Ä—ã—Ç–∏—è —Å–±—Ä–∞—Å—ã–≤–∞–µ–º –∞–Ω–∏–º–∞—Ü–∏—é
  modal.addEventListener('hidden.bs.modal', function () {
    dialog.classList.remove('animate__animated', 'animate__fadeOutUp');
    closing = false;
  });
}
setupAnimatedModal('loginModal');
setupAnimatedModal('registerModal');

// –ü–ª–∞–≤–Ω–æ–µ —É–º–µ–Ω—å—à–µ–Ω–∏–µ –≤—ã—Å–æ—Ç—ã –∏ —É—Å–∏–ª–µ–Ω–∏–µ blur/—Ç–µ–Ω–∏ —à–∞–ø–∫–∏ –ø—Ä–∏ —Å–∫—Ä–æ–ª–ª–µ
window.addEventListener('scroll', function() {
  const header = document.querySelector('.header-glass-premium');
  if (!header) return;
  if (window.scrollY > 10) {
    header.classList.add('scrolled');
  } else {
    header.classList.remove('scrolled');
  }
});
</script>
<style>
.pay-modal-content {
  border-radius: 1.2rem;
  overflow: hidden;
  box-shadow: 0 8px 32px rgba(60, 72, 100, 0.18);
  border: none;
}
.pay-badge {
  display: inline-block;
  background: linear-gradient(90deg, #3b82f6 60%, #06b6d4 100%);
  color: #fff;
  font-weight: 600;
  border-radius: 1em;
  padding: 0.35em 1.1em 0.35em 1em;
  font-size: 1.08rem;
  margin-bottom: 0.5em;
  box-shadow: 0 2px 8px rgba(59,130,246,0.10);
}
.pay-count-btn {
  min-width: 54px;
  font-size: 1.1rem;
  font-weight: 600;
  border-radius: 0.8em;
  border-width: 2px;
  transition: background 0.2s, color 0.2s, border 0.2s, box-shadow 0.2s;
}
.pay-count-btn.active, .pay-count-btn:active, .pay-count-btn:focus {
  background: linear-gradient(90deg, #3b82f6 60%, #06b6d4 100%);
  color: #fff;
  border-color: #3b82f6;
  box-shadow: 0 2px 8px rgba(59,130,246,0.10);
}
.pay-btn-animate {
  font-size: 1.15rem;
  font-weight: 700;
  border-radius: 0.9em;
  box-shadow: 0 4px 16px rgba(34, 197, 94, 0.10);
  transition: background 0.2s, transform 0.1s, box-shadow 0.2s;
}
.pay-btn-animate:hover, .pay-btn-animate:focus {
  background: linear-gradient(90deg, #16a34a 60%, #22c55e 100%);
  transform: translateY(-2px) scale(1.04);
  box-shadow: 0 8px 32px rgba(34, 197, 94, 0.18);
}
.pay-benefits ul {
  margin-bottom: 0;
}
</style>
</body>
</html> 